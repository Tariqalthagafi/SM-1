import{i as d}from"./indexedDBService-9HYV5ySC.js";import{a as m,r as f,n as x,f as A,c as v,b as r,w as O,U as b,F as h,p as k,t as w,o as y,_ as g,l as C,X as $,V as I,d as F,e as _,u as p}from"./index-ffCe8qSf.js";const E={class:"currency-selector"},N={class:"row"},U=["value"],T={class:"currency-preview"},P={key:0,class:"currency-symbol"},z=["src"],R={key:1,class:"currency-symbol"},B=m({__name:"CurrencySelector",props:{selected:{default:"ر.س"},options:{default:()=>[]}},emits:["update:selected"],setup(l,{emit:s}){const a=l,c=s,o=f(a.options.some(t=>t.value===a.selected)?a.selected:a.options[0]?.value||"ر.س");x(()=>a.selected,t=>{a.options.some(e=>e.value===t)&&(o.value=t)});function u(){c("update:selected",o.value)}const i=A(()=>a.options.find(e=>e.value===o.value)?.image||null);return(t,e)=>(y(),v("div",E,[e[2]||(e[2]=r("label",{for:"currency-select"},"اختر العملة:",-1)),r("div",N,[O(r("select",{id:"currency-select","onUpdate:modelValue":e[0]||(e[0]=n=>o.value=n),onChange:u,class:"currency-dropdown"},[(y(!0),v(h,null,k(t.options,n=>(y(),v("option",{key:n.value,value:n.value},w(n.label||n.value),9,U))),128))],544),[[b,o.value]]),r("div",T,[i.value?(y(),v("span",P,[r("img",{src:i.value,alt:"رمز العملة",class:"currency-icon"},null,8,z)])):(y(),v("span",R,w(o.value),1)),e[1]||(e[1]=r("small",null,"معاينة الرمز",-1))])])]))}}),V=g(B,[["__scopeId","data-v-3d8c0cfa"]]),j={class:"font-selector"},D={class:"row"},M=["value"],q=m({__name:"ThemeFontSelector",props:{selectedFont:{default:""}},emits:["update:selectedFont"],setup(l,{emit:s}){const a=l,c=s,o=f([]),u=f("");C(async()=>{o.value=await d.getOptions("fontFamily");const t=o.value.find(e=>e.value===a.selectedFont)?a.selectedFont:o.value[0]?.value||"";u.value=t}),x(()=>a.selectedFont,t=>{o.value.find(e=>e.value===t)&&(u.value=t)});function i(){c("update:selectedFont",u.value)}return(t,e)=>(y(),v("div",j,[e[1]||(e[1]=r("label",{for:"font-select"},"اختر الخط:",-1)),r("div",D,[O(r("select",{id:"font-select","onUpdate:modelValue":e[0]||(e[0]=n=>u.value=n),onChange:i,class:"font-dropdown"},[(y(!0),v(h,null,k(o.value,n=>(y(),v("option",{key:n.value,value:n.value,style:$({fontFamily:n.value})},w(n.label||n.value),13,M))),128))],544),[[b,u.value]]),r("div",{class:"font-preview",style:$({fontFamily:u.value})}," عنوان تجريبي بهذا الخط ",4)])]))}}),W=g(q,[["__scopeId","data-v-daf022d1"]]),G={class:"offer-style-selector"},L={class:"row"},X=["value"],H={class:"offer-preview"},J=m({__name:"OfferStylePicker",props:{selected:{default:"oldNewStacked"},options:{default:()=>[]}},emits:["update:selected"],setup(l,{emit:s}){const a=l,c=s,o=f(a.options.some(i=>i.value===a.selected)?a.selected:a.options[0]?.value||"oldNewStacked");x(()=>a.selected,i=>{a.options.some(t=>t.value===i)&&(o.value=i)});function u(){c("update:selected",o.value)}return(i,t)=>(y(),v("div",G,[t[3]||(t[3]=r("label",{for:"offer-style-select"},"نمط العرض:",-1)),r("div",L,[O(r("select",{id:"offer-style-select","onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),onChange:u,class:"offer-style-dropdown"},[(y(!0),v(h,null,k(i.options,e=>(y(),v("option",{key:e.value,value:e.value},w(e.label||e.value),9,X))),128))],544),[[b,o.value]]),r("div",H,[r("div",{class:I(["preview-box",o.value])},t[1]||(t[1]=[r("span",{class:"product-name"},"منتج تجريبي",-1),r("span",{class:"product-price"},"25 ر.س",-1)]),2),t[2]||(t[2]=r("small",null,"معاينة النمط",-1))])])]))}}),K=g(J,[["__scopeId","data-v-5de5f3ff"]]),Q={class:"expired-style-selector"},Y={class:"row"},Z=["value"],ee={class:"expired-preview"},te=m({__name:"ExpiredStylePicker",props:{selected:{default:"strike"},options:{default:()=>[]}},emits:["update:selected"],setup(l,{emit:s}){const a=l,c=s,o=f(a.options.some(i=>i.value===a.selected)?a.selected:a.options[0]?.value||"strike");x(()=>a.selected,i=>{a.options.some(t=>t.value===i)&&(o.value=i)});function u(){c("update:selected",o.value)}return(i,t)=>(y(),v("div",Q,[t[3]||(t[3]=r("label",{for:"expired-style-select"},"نمط العنصر المنتهي:",-1)),r("div",Y,[O(r("select",{id:"expired-style-select","onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),onChange:u,class:"expired-style-dropdown"},[(y(!0),v(h,null,k(i.options,e=>(y(),v("option",{key:e.value,value:e.value},w(e.label||e.value),9,Z))),128))],544),[[b,o.value]]),r("div",ee,[r("div",{class:I(["preview-box",o.value])},t[1]||(t[1]=[r("span",{class:"product-name"},"منتج منتهي",-1),r("span",{class:"product-price"},"35 ر.س",-1)]),2),t[2]||(t[2]=r("small",null,"معاينة النمط",-1))])])]))}}),le=g(te,[["__scopeId","data-v-d2cdcc38"]]),ae={class:"image-shape-selector"},ne={class:"row"},oe=["value"],se={class:"image-preview"},ie=m({__name:"ImageShapeSelector",props:{selected:{default:"circle"},options:{default:()=>[]}},emits:["update:selected"],setup(l,{emit:s}){const a=l,c=s,o=f(a.options.some(i=>i.value===a.selected)?a.selected:a.options[0]?.value||"circle");x(()=>a.selected,i=>{a.options.some(t=>t.value===i)&&(o.value=i)});function u(){c("update:selected",o.value)}return(i,t)=>(y(),v("div",ae,[t[2]||(t[2]=r("label",{for:"image-shape-select"},"شكل الصورة:",-1)),r("div",ne,[O(r("select",{id:"image-shape-select","onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),onChange:u,class:"image-shape-dropdown"},[(y(!0),v(h,null,k(i.options,e=>(y(),v("option",{key:e.value,value:e.value},w(e.label||e.value),9,oe))),128))],544),[[b,o.value]]),r("div",se,[r("div",{class:I(["preview-image",o.value])},null,2),t[1]||(t[1]=r("small",null,"معاينة شكل الصورة",-1))])])]))}}),re=g(ie,[["__scopeId","data-v-91adb974"]]),ce={class:"allergen-style-selector"},ue={class:"row"},de=["value"],pe={class:"allergen-preview"},ve=m({__name:"AllergenStyle",props:{selected:{default:"colored"},options:{default:()=>[]}},emits:["update:selected"],setup(l,{emit:s}){const a=l,c=s,o=f(a.options.some(t=>t.value===a.selected)?a.selected:a.options[0]?.value||"colored");x(()=>a.selected,t=>{a.options.some(e=>e.value===t)&&(o.value=t)});function u(){c("update:selected",o.value)}function i(t){return t==="colored"?{color:"#ff0000"}:t==="hidden"?{}:{color:"#666"}}return(t,e)=>(y(),v("div",ce,[e[2]||(e[2]=r("label",{for:"allergen-style-select"},"نمط رمز الحساسية:",-1)),r("div",ue,[O(r("select",{id:"allergen-style-select","onUpdate:modelValue":e[0]||(e[0]=n=>o.value=n),onChange:u,class:"allergen-style-dropdown"},[(y(!0),v(h,null,k(t.options,n=>(y(),v("option",{key:n.value,value:n.value},w(n.label||n.value),9,de))),128))],544),[[b,o.value]]),r("div",pe,[r("span",{class:I(["allergen-icon",o.value]),style:$(i(o.value))}," 🅰 ",6),e[1]||(e[1]=r("small",null,"معاينة الرمز",-1))])])]))}}),ye=g(ve,[["__scopeId","data-v-a444f647"]]),fe=F("fontStore",()=>{const l=f("Cairo"),s=f([]);function a(e){l.value=e}async function c(){const e=await d.getSetting("fontFamily");e&&s.value.find(n=>n.value===e)&&(l.value=e)}async function o(){await d.saveSetting("fontFamily",l.value)}async function u(){if((await d.getOptions("fontFamily")).length>0)return;const n=[{id:"fontFamily-Cairo",key:"fontFamily",value:"Cairo",label:"خط Cairo",type:"string",context:"template",group:"fonts",is_active:!0},{id:"fontFamily-Tajawal",key:"fontFamily",value:"Tajawal",label:"خط Tajawal",type:"string",context:"template",group:"fonts",is_active:!0},{id:"fontFamily-NotoSansArabic",key:"fontFamily",value:"Noto Sans Arabic",label:"خط Noto Sans Arabic",type:"string",context:"template",group:"fonts",is_active:!0},{id:"fontFamily-Almarai",key:"fontFamily",value:"Almarai",label:"خط Almarai",type:"string",context:"template",group:"fonts",is_active:!0},{id:"fontFamily-Roboto",key:"fontFamily",value:"Roboto",label:"خط Roboto (لاتيني)",type:"string",context:"template",group:"fonts",is_active:!0}];for(const S of n)await d.saveOption(S)}async function i(){await u(),s.value=await d.getOptions("fontFamily"),await c(),s.value.find(e=>e.value===l.value)||(l.value=s.value[0]?.value||"Cairo")}function t(){l.value="Cairo"}return{fontFamily:l,fontOptions:s,setFont:a,loadFont:c,saveFont:o,initFontOptions:i,resetFont:t}}),Se=F("offerStyleStore",()=>{const l=f("oldNewStacked"),s=f([]);function a(e){l.value=e}async function c(){const e=await d.getSetting("offerStyle");typeof e=="string"&&s.value.find(n=>n.value===e)&&(l.value=e)}async function o(){await d.saveSetting("offerStyle",l.value)}async function u(){if((await d.getOptions("offerStyle")).length>0)return;const n=[{id:"offerStyle-oldNewStacked",key:"offerStyle",value:"oldNewStacked",label:"سعر قديم فوق جديد",type:"string",context:"template",group:"offerStyle",is_active:!0},{id:"offerStyle-badgeWithNewPrice",key:"offerStyle",value:"badgeWithNewPrice",label:"شارة خصم + سعر جديد",type:"string",context:"template",group:"offerStyle",is_active:!0},{id:"offerStyle-inlineStrikeThrough",key:"offerStyle",value:"inlineStrikeThrough",label:"سطر واحد مشطوب",type:"string",context:"template",group:"offerStyle",is_active:!0}];for(const S of n)await d.saveOption(S)}async function i(){await u(),s.value=await d.getOptions("offerStyle"),await c(),s.value.find(e=>e.value===l.value)||(l.value=s.value[0]?.value||"oldNewStacked")}function t(){l.value="oldNewStacked"}return{offerStyle:l,offerStyleOptions:s,setOfferStyle:a,loadOfferStyle:c,saveOfferStyle:o,initOfferStyleOptions:i,resetOfferStyle:t}}),me=F("expiredStyleStore",()=>{const l=f("strike"),s=f([]);function a(e){l.value=e}async function c(){const e=await d.getSetting("expiredStyle");typeof e=="string"&&s.value.find(n=>n.value===e)&&(l.value=e)}async function o(){await d.saveSetting("expiredStyle",l.value)}async function u(){if((await d.getOptions("expiredStyle")).length>0)return;const n=[{id:"expiredStyle-strike",key:"expiredStyle",value:"strike",label:"شطب السعر",type:"string",context:"template",group:"expiredStyle",is_active:!0},{id:"expiredStyle-dimmed",key:"expiredStyle",value:"dimmed",label:"تظليل المنتج",type:"string",context:"template",group:"expiredStyle",is_active:!0},{id:"expiredStyle-hide",key:"expiredStyle",value:"hide",label:"إخفاء المنتج",type:"string",context:"template",group:"expiredStyle",is_active:!0}];for(const S of n)await d.saveOption(S)}async function i(){await u(),s.value=await d.getOptions("expiredStyle"),await c(),s.value.find(e=>e.value===l.value)||(l.value=s.value[0]?.value||"strike")}function t(){l.value="strike"}return{expiredStyle:l,expiredStyleOptions:s,setExpiredStyle:a,loadExpiredStyle:c,saveExpiredStyle:o,initExpiredStyleOptions:i,resetExpiredStyle:t}}),ge=F("imageShapeStore",()=>{const l=f("circle"),s=f([]);function a(e){l.value=e}async function c(){const e=await d.getSetting("imageShape");typeof e=="string"&&s.value.find(n=>n.value===e)&&(l.value=e)}async function o(){await d.saveSetting("imageShape",l.value)}async function u(){if((await d.getOptions("imageShape")).length>0)return;const n=[{id:"imageShape-circle",key:"imageShape",value:"circle",label:"دائري",type:"string",context:"template",group:"imageShape",is_active:!0},{id:"imageShape-roundedSquare",key:"imageShape",value:"roundedSquare",label:"مربع بحواف ناعمة",type:"string",context:"template",group:"imageShape",is_active:!0},{id:"imageShape-rectangle",key:"imageShape",value:"rectangle",label:"مستطيل أفقي",type:"string",context:"template",group:"imageShape",is_active:!0}];for(const S of n)await d.saveOption(S)}async function i(){await u(),s.value=await d.getOptions("imageShape"),await c(),s.value.find(e=>e.value===l.value)||(l.value=s.value[0]?.value||"circle")}function t(){l.value="circle"}return{imageShape:l,imageShapeOptions:s,setImageShape:a,loadImageShape:c,saveImageShape:o,initImageShapeOptions:i,resetImageShape:t}}),_e=F("currencyStore",()=>{const l=f("ر.س"),s=f([]);function a(e){l.value=e}async function c(){const e=await d.getSetting("currencySymbol");typeof e=="string"&&s.value.find(n=>n.value===e)&&(l.value=e)}async function o(){await d.saveSetting("currencySymbol",l.value)}async function u(){if((await d.getOptions("currencySymbol")).length>0)return;const n=[{id:"currency-symbol-text",key:"currencySymbol",value:"ر.س",label:"ر.س",type:"string",context:"template",group:"currencySymbol",is_active:!0},{id:"currency-symbol-image",key:"currencySymbol",value:"SAR_IMAGE",label:"صورة",image:"/images/SRS1.svg",type:"string",context:"template",group:"currencySymbol",is_active:!0}];for(const S of n)await d.saveOption(S)}async function i(){await u(),s.value=await d.getOptions("currencySymbol"),await c(),s.value.find(e=>e.value===l.value)||(l.value=s.value[0]?.value||"ر.س")}function t(){l.value="ر.س"}return{currencySymbol:l,currencyOptions:s,setCurrency:a,loadCurrency:c,saveCurrency:o,initCurrencyOptions:i,resetCurrency:t}}),we=F("allergenStyleStore",()=>{const l=f("colored"),s=f([]);function a(e){l.value=e}async function c(){const e=await d.getSetting("allergenIconStyle");typeof e=="string"&&s.value.find(n=>n.value===e)&&(l.value=e)}async function o(){await d.saveSetting("allergenIconStyle",l.value)}async function u(){if((await d.getOptions("allergenIconStyle")).length>0)return;const n=[{id:"allergenStyle-colored",key:"allergenIconStyle",value:"colored",label:"ملون",type:"string",context:"template",group:"allergenIconStyle",is_active:!0},{id:"allergenStyle-outlined",key:"allergenIconStyle",value:"outlined",label:"مخطط",type:"string",context:"template",group:"allergenIconStyle",is_active:!0},{id:"allergenStyle-monochrome",key:"allergenIconStyle",value:"monochrome",label:"أحادي اللون",type:"string",context:"template",group:"allergenIconStyle",is_active:!0}];for(const S of n)await d.saveOption(S)}async function i(){await u(),s.value=await d.getOptions("allergenIconStyle"),await c(),s.value.find(e=>e.value===l.value)||(l.value=s.value[0]?.value||"colored")}function t(){l.value="colored"}return{allergenIconStyle:l,allergenStyleOptions:s,setAllergenStyle:a,loadAllergenStyle:c,saveAllergenStyle:o,initAllergenStyleOptions:i,resetAllergenStyle:t}}),xe={class:"template-customizer"},Oe={class:"card"},be={class:"card"},he={class:"card"},ke={class:"card"},Fe={class:"card"},Ie={class:"card"},$e=m({__name:"TemplateCustomizer",setup(l){const s=fe(),a=Se(),c=me(),o=ge(),u=_e(),i=we();return C(async()=>{await s.initFontOptions(),await a.initOfferStyleOptions(),await c.initExpiredStyleOptions(),await o.initImageShapeOptions(),await u.initCurrencyOptions(),await i.initAllergenStyleOptions()}),(t,e)=>(y(),v("div",xe,[r("div",Oe,[_(W,{fonts:p(s).fontOptions,selectedFont:p(s).fontFamily,"onUpdate:selectedFont":e[0]||(e[0]=n=>{p(s).setFont(n),p(s).saveFont()})},null,8,["fonts","selectedFont"])]),r("div",be,[_(K,{options:p(a).offerStyleOptions,selected:p(a).offerStyle,"onUpdate:selected":e[1]||(e[1]=n=>{p(a).setOfferStyle(n),p(a).saveOfferStyle()})},null,8,["options","selected"])]),r("div",he,[_(le,{options:p(c).expiredStyleOptions,selected:p(c).expiredStyle,"onUpdate:selected":e[2]||(e[2]=n=>{p(c).setExpiredStyle(n),p(c).saveExpiredStyle()})},null,8,["options","selected"])]),r("div",ke,[_(re,{options:p(o).imageShapeOptions,selected:p(o).imageShape,"onUpdate:selected":e[3]||(e[3]=n=>{p(o).setImageShape(n),p(o).saveImageShape()})},null,8,["options","selected"])]),r("div",Fe,[_(V,{options:p(u).currencyOptions,selected:p(u).currencySymbol,"onUpdate:selected":e[4]||(e[4]=n=>{p(u).setCurrency(n),p(u).saveCurrency()})},null,8,["options","selected"])]),r("div",Ie,[_(ye,{options:p(i).allergenStyleOptions,selected:p(i).allergenIconStyle,"onUpdate:selected":e[5]||(e[5]=n=>{p(i).setAllergenStyle(n),p(i).saveAllergenStyle()})},null,8,["options","selected"])])]))}}),Ce=g($e,[["__scopeId","data-v-8b58c5bc"]]),Ae={class:"template-editor-page"},Ee={class:"template-editor-container"},Ne=m({__name:"templates",setup(l){return(s,a)=>(y(),v("div",Ae,[r("div",Ee,[_(Ce)])]))}}),Pe=g(Ne,[["__scopeId","data-v-bd17633a"]]);export{Pe as default};
